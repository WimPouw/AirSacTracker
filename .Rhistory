mutate(videoname = videoname)
cor_r <- corr.test(joined_radii$r, joined_radii$radius_man)
cor_r_sm_kol <- corr.test(joined_radii$smoothed_hough_radius_kolmogorov, joined_radii$radius_man)
cor_x <- corr.test(joined_radii$x, joined_radii$X)
cor_y <- corr.test(joined_radii$y, joined_radii$Y)
# saving relevant parameters
df[a,1] <- videoname
df[a,2] <- cor_r$r
df[a,3] <- cor_r_sm_kol$r
df[a,4] <- cor_x$r
df[a,5] <- cor_y$r
df[a,6] <- joined_radii$examplenr[1]
joined_radii_all <- rbind(joined_radii_all, joined_radii)
}
colnames(df) <- c("videoname", "cor_radius","cor_radius_smoothed_kol", "cor_x",  "cor_y", "example_nr")#,
saveRDS(df, file = "hough_vs_manuallytracked_radii_correlation_all_parameter_combinations_5examples.rds")
write.table(df, "hough_vs_manuallytracked_radii_correlation_all_parameter_combinations_5examples.csv", sep = ",")
detach(package:plyr) # needs to be detached, otherwise grouping does not work in function below
correlation_per_video <- df %>%
dplyr::group_by(videoname) %>%
summarise(mean_cor_sm = mean(cor_radius_smoothed_kol), median_cor_sm = median(cor_radius_smoothed_kol),
min_cor_sm = min(cor_radius_smoothed_kol), max_cor_sm = max(cor_radius_smoothed_kol),
mean_cor = mean(cor_radius, na.rm = TRUE ), median_cor = median(cor_radius, na.rm = TRUE),
min_cor = min(cor_radius, na.rm = TRUE), max_cor = max(cor_radius, na.rm = TRUE))
# per example
correlation_per_setting <- df %>%
group_by(example_nr) %>%
summarise(mean_cor_sm = mean(cor_radius_smoothed_kol), median_cor_sm = median(cor_radius_smoothed_kol),
min_cor_sm = min(cor_radius_smoothed_kol), max_cor_sm = max(cor_radius_smoothed_kol),
mean_cor = mean(cor_radius, na.rm = TRUE ), median_cor = median(cor_radius, na.rm = TRUE),
min_cor = min(cor_radius, na.rm = TRUE), max_cor = max(cor_radius, na.rm = TRUE))
# 03a: preparations
dlc_radius <- dlc_radius[!is.na(dlc_radius$radius),]
# to match with manual data we need the correct name format
# we need something like: framenr_52_framevid_June09_03, we have frame in column frame and videoname in filename as first part before DLC
# -> split filename at DLC, use first in paste with frame and the respective words
match_name <- data.frame()
for(i in 1:length(dlc_radius$videofile)){
names <- str_split(dlc_radius$videofile[i], pattern = "DLC")
names <- names[[1]]
match_name[i,1] <-names[[1]]
match_name[i,2] <- dlc_radius$frame[i]
}
dlc_radius <- readRDS("dlc_for_comparison_to_manualtracks.rds")
dlc_radius <- readRDS(paste0(current_path, "/dlc_for_comparison_to_manualtracks.rds"))
correlation_per_video <- df %>%
dplyr::group_by(videoname) %>%
summarise(mean_cor_sm = mean(cor_radius_smoothed_kol), median_cor_sm = median(cor_radius_smoothed_kol),
min_cor_sm = min(cor_radius_smoothed_kol), max_cor_sm = max(cor_radius_smoothed_kol),
mean_cor = mean(cor_radius, na.rm = TRUE ), median_cor = median(cor_radius, na.rm = TRUE),
min_cor = min(cor_radius, na.rm = TRUE), max_cor = max(cor_radius, na.rm = TRUE))
# per example
correlation_per_setting <- df %>%
group_by(example_nr) %>%
summarise(mean_cor_sm = mean(cor_radius_smoothed_kol), median_cor_sm = median(cor_radius_smoothed_kol),
min_cor_sm = min(cor_radius_smoothed_kol), max_cor_sm = max(cor_radius_smoothed_kol),
mean_cor = mean(cor_radius, na.rm = TRUE ), median_cor = median(cor_radius, na.rm = TRUE),
min_cor = min(cor_radius, na.rm = TRUE), max_cor = max(cor_radius, na.rm = TRUE))
# 03a: preparations
dlc_radius <- dlc_radius[!is.na(dlc_radius$radius),]
# to match with manual data we need the correct name format
# we need something like: framenr_52_framevid_June09_03, we have frame in column frame and videoname in filename as first part before DLC
# -> split filename at DLC, use first in paste with frame and the respective words
match_name <- data.frame()
for(i in 1:length(dlc_radius$videofile)){
names <- str_split(dlc_radius$videofile[i], pattern = "DLC")
names <- names[[1]]
match_name[i,1] <-names[[1]]
match_name[i,2] <- dlc_radius$frame[i]
}
dlc_radius <- dlc_radius %>%
dplyr::mutate(name = paste("framenr", match_name$V2, "framevid", match_name$V1, sep = "_"),
radius = as.numeric(radius),
videoname = match_name$V1)
# smoothing per video: kolmogorov-zurbenko
dlc_radius <- dlc_radius %>%
group_by(videoname) %>%
mutate(kza_smoothed_radii = kza(radius, k = 4,m = 3)$kza)
joined_radii_dlc <- plyr::join(dlc_radius, manual_radius, by= c("name"), type="left", match="first")
# removing all lines, where no circle was tracked manually (indicated by very small circles)
joined_radii_dlc <- joined_radii_dlc %>%
dplyr::filter(radius_man > 100 & radius < 270 & kza_smoothed_radii < 270) # we apply the filter to only take into accoutn automatically tracked radii below 270 px, to make it comparable to Hough circles, that can maximally find circles of 270 px
# dlc correlations
dlc_correlations <- joined_radii_dlc %>%
group_by(videoname) %>%
summarise(cor_radius = cor(radius, radius_man),
cor_radius_sm = cor(kza_smoothed_radii, radius_man, use= "pairwise.complete.obs"))
dlc_correlations
safe_colorblind_palette <- c("#88CCEE", "#CC6677", "#DDCC77", "#117733", "#332288", "#AA4499",
"#44AA99", "#999933", "#882255", "#661100", "#6699CC", "#888888")
June16_20_hough_exp4 <- joined_radii_all %>%
dplyr::filter(examplenr == "exp4") %>%
dplyr::filter(videoname == "June16_20_exp4")
June16_02_hough_exp4 <- joined_radii_all %>%
dplyr::filter(examplenr == "exp4") %>%
dplyr::filter(videoname == "June16_02_exp4")
# visualization DLC
dlc <- joined_radii_dlc %>%
ggplot(aes(y= radius_man, x = radius))+
geom_point(aes( fill = videoname, color = videoname), size = 2, alpha = 0.6)+
geom_smooth(method = 'lm', color = "grey15")+
scale_color_manual(values = safe_colorblind_palette)+
xlab('Automatically Tracked Radius [px], DLC')+
ylab('Manually Labeled Radius [px]')+
scale_x_continuous(limits = c(75, 270),
breaks = c(50, 100, 150, 200, 250))+
scale_y_continuous(limits = c(100, 270),
breaks = c(100, 150, 200, 250))+
#scale_x_continuous(limits = c(120, 270),
#                   breaks = c( 120, 160, 200, 240))+
theme_minimal()+
theme(text = element_text(size = 20),
legend.position = "none")+
annotate("text", y=200, x= 75, label= " r = 0.86", size = 5)
hough <- joined_radii_all %>%
dplyr::filter(examplenr == "exp4") %>%
dplyr::filter(radius_man >= 100) %>%
ggplot(aes(y= radius_man, x = smoothed_hough_radius_kolmogorov))+
geom_point(aes( fill = videoname, color = videoname), size = 2, alpha = 0.6)+
geom_smooth(method = 'lm', color = "grey15")+
geom_smooth(data = June16_02_hough_exp4, method = "lm", color = "#44AA99")+
geom_smooth(data = June16_20_hough_exp4, method = "lm", color = "#882255")+
scale_color_manual(values = safe_colorblind_palette)+
xlab('Automatically Tracked Radius [px], Hough')+
ylab('Manually Labeled Radius [px]')+
scale_x_continuous(limits = c(75, 270),
breaks = c(50, 100, 150, 200, 250))+
scale_y_continuous(limits = c(100, 270),
breaks = c(100, 150, 200, 250))+
#scale_x_continuous(limits = c(120, 270),
#                   breaks = c( 120, 160, 200, 240))+
theme_minimal()+
theme(text = element_text(size = 20),
legend.position="none")+
#guides(fill = FALSE)+
annotate("text", y=200, x= 75, label= " r = 0.23", size = 5)+
annotate("text", y=200, x= 85, label= " r = 0.80", size = 5, color = "#44AA99")+
annotate("text", y=200, x= 95, label= " r = 0.53", size = 5, color = "#882255")
cowplot::plot_grid(dlc, hough, ncol = 2, labels = c("A", "B"), label_size = 16)
# visualization DLC
dlc <- joined_radii_dlc %>%
ggplot(aes(y= radius_man, x = radius))+
geom_point(aes( fill = videoname, color = videoname), size = 2, alpha = 0.6)+
geom_smooth(method = 'lm', color = "grey15")+
scale_color_manual(values = safe_colorblind_palette)+
xlab('Automatically Tracked Radius [px], DLC')+
ylab('Manually Labeled Radius [px]')+
scale_x_continuous(limits = c(75, 270),
breaks = c(50, 100, 150, 200, 250))+
scale_y_continuous(limits = c(100, 270),
breaks = c(100, 150, 200, 250))+
#scale_x_continuous(limits = c(120, 270),
#                   breaks = c( 120, 160, 200, 240))+
theme_minimal()+
theme(text = element_text(size = 20),
legend.position = "none")+
annotate("text", y=200, x= 100, label= " r = 0.86", size = 5)
dlc
hough
hough <- joined_radii_all %>%
dplyr::filter(examplenr == "exp4") %>%
dplyr::filter(radius_man >= 100) %>%
ggplot(aes(y= radius_man, x = smoothed_hough_radius_kolmogorov))+
geom_point(aes( fill = videoname, color = videoname), size = 2, alpha = 0.6)+
geom_smooth(method = 'lm', color = "grey15")+
geom_smooth(data = June16_02_hough_exp4, method = "lm", color = "#44AA99")+
geom_smooth(data = June16_20_hough_exp4, method = "lm", color = "#882255")+
scale_color_manual(values = safe_colorblind_palette)+
xlab('Automatically Tracked Radius [px], Hough')+
ylab('Manually Labeled Radius [px]')+
scale_x_continuous(limits = c(75, 270),
breaks = c(50, 100, 150, 200, 250))+
scale_y_continuous(limits = c(100, 270),
breaks = c(100, 150, 200, 250))+
#scale_x_continuous(limits = c(120, 270),
#                   breaks = c( 120, 160, 200, 240))+
theme_minimal()+
theme(text = element_text(size = 20),
legend.position="none")+
#guides(fill = FALSE)+
annotate("text", y=200, x= 75, label= " r = 0.23", size = 5)+
annotate("text", y=250, x= 75, label= " r = 0.80", size = 5, color = "#44AA99")+
annotate("text", y=225, x= 75, label= " r = 0.53", size = 5, color = "#882255")
cowplot::plot_grid(dlc, hough, ncol = 2, labels = c("A", "B"), label_size = 16)
# visualization DLC
dlc <- joined_radii_dlc %>%
ggplot(aes(y= radius_man, x = radius))+
geom_point(aes( fill = videoname, color = videoname), size = 2, alpha = 0.6)+
geom_smooth(method = 'lm', color = "grey15")+
scale_color_manual(values = safe_colorblind_palette)+
xlab('Automatically Tracked Radius [px], DLC')+
ylab('Manually Labeled Radius [px]')+
scale_x_continuous(limits = c(75, 270),
breaks = c(50, 100, 150, 200, 250))+
scale_y_continuous(limits = c(100, 270),
breaks = c(100, 150, 200, 250))+
#scale_x_continuous(limits = c(120, 270),
#                   breaks = c( 120, 160, 200, 240))+
theme_minimal()+
theme(text = element_text(size = 20),
legend.position = "none")+
annotate("text", y=250, x= 100, label= " r = 0.86", size = 5)
hough <- joined_radii_all %>%
dplyr::filter(examplenr == "exp4") %>%
dplyr::filter(radius_man >= 100) %>%
ggplot(aes(y= radius_man, x = smoothed_hough_radius_kolmogorov))+
geom_point(aes( fill = videoname, color = videoname), size = 2, alpha = 0.6)+
geom_smooth(method = 'lm', color = "grey15")+
geom_smooth(data = June16_02_hough_exp4, method = "lm", color = "#44AA99")+
geom_smooth(data = June16_20_hough_exp4, method = "lm", color = "#882255")+
scale_color_manual(values = safe_colorblind_palette)+
xlab('Automatically Tracked Radius [px], Hough')+
ylab('Manually Labeled Radius [px]')+
scale_x_continuous(limits = c(75, 270),
breaks = c(50, 100, 150, 200, 250))+
scale_y_continuous(limits = c(100, 270),
breaks = c(100, 150, 200, 250))+
#scale_x_continuous(limits = c(120, 270),
#                   breaks = c( 120, 160, 200, 240))+
theme_minimal()+
theme(text = element_text(size = 20),
legend.position="none")+
#guides(fill = FALSE)+
annotate("text", y=200, x= 100, label= " r = 0.23", size = 5)+
annotate("text", y=250, x= 100, label= " r = 0.80", size = 5, color = "#44AA99")+
annotate("text", y=225, x= 100, label= " r = 0.53", size = 5, color = "#882255")
cowplot::plot_grid(dlc, hough, ncol = 2, labels = c("A", "B"), label_size = 16)
hough <- joined_radii_all %>%
dplyr::filter(examplenr == "exp4") %>%
dplyr::filter(radius_man >= 100) %>%
ggplot(aes(y= radius_man, x = smoothed_hough_radius_kolmogorov))+
geom_point(aes( fill = videoname, color = videoname), size = 2, alpha = 0.6)+
geom_smooth(method = 'lm', color = "grey15")+
geom_smooth(data = June16_02_hough_exp4, method = "lm", color = "#44AA99")+
geom_smooth(data = June16_20_hough_exp4, method = "lm", color = "#882255")+
scale_color_manual(values = safe_colorblind_palette)+
xlab('Automatically Tracked Radius [px], Hough')+
ylab('Manually Labeled Radius [px]')+
scale_x_continuous(limits = c(75, 270),
breaks = c(50, 100, 150, 200, 250))+
scale_y_continuous(limits = c(100, 270),
breaks = c(100, 150, 200, 250))+
#scale_x_continuous(limits = c(120, 270),
#                   breaks = c( 120, 160, 200, 240))+
theme_minimal()+
theme(text = element_text(size = 20),
legend.position="none")+
#guides(fill = FALSE)+
annotate("text", y=200, x= 100, label= " r = 0.23", size = 5)+
annotate("text", y=250, x= 100, label= " r = 0.53", size = 5, color = "#44AA99")+
annotate("text", y=225, x= 100, label= " r = 0.80", size = 5, color = "#882255")
cowplot::plot_grid(dlc, hough, ncol = 2, labels = c("A", "B"), label_size = 16)
hough <- joined_radii_all %>%
dplyr::filter(examplenr == "exp4") %>%
dplyr::filter(radius_man >= 100) %>%
ggplot(aes(y= radius_man, x = smoothed_hough_radius_kolmogorov))+
geom_point(aes( fill = videoname, color = videoname), size = 2, alpha = 0.6)+
geom_smooth(method = 'lm', color = "grey15")+
geom_smooth(data = June16_02_hough_exp4, method = "lm", color = "#44AA99")+
geom_smooth(data = June16_20_hough_exp4, method = "lm", color = "#882255")+
scale_color_manual(values = safe_colorblind_palette)+
xlab('Automatically Tracked Radius [px], Hough')+
ylab('Manually Labeled Radius [px]')+
scale_x_continuous(limits = c(75, 270),
breaks = c(50, 100, 150, 200, 250))+
scale_y_continuous(limits = c(100, 270),
breaks = c(100, 150, 200, 250))+
#scale_x_continuous(limits = c(120, 270),
#                   breaks = c( 120, 160, 200, 240))+
theme_minimal()+
theme(text = element_text(size = 20),
legend.position="none")+
#guides(fill = FALSE)+
annotate("text", y=200, x= 100, label= " r = 0.23", size = 5)+
annotate("text", y=225, x= 100, label= " r = 0.53", size = 5, color = "#44AA99")+
annotate("text", y=250, x= 100, label= " r = 0.80", size = 5, color = "#882255")
cowplot::plot_grid(dlc, hough, ncol = 2, labels = c("A", "B"), label_size = 16)
ggsave("comparison_dlc_hough_manual_new.jpg", dpi = 300, width= 10, height = 8)
saveRDS(df, file = paste0(current_path,"/hough_vs_manuallytracked_radii_correlation_all_parameter_combinations_5examples.rds"))
write.table(df, paste0(current_path,"/hough_vs_manuallytracked_radii_correlation_all_parameter_combinations_5examples.csv"), sep = ",")
ggsave(paste0(current_path,"/comparison_dlc_hough_manual_new.jpg"), dpi = 300, width= 10, height = 8)
ggsave(paste0(current_path,"/comparison_dlc_hough_manual_new.svg"), dpi = 300, width= 10, height = 8)
# visualization DLC
dlc <- joined_radii_dlc %>%
ggplot(aes(x = radius_man, y = radius))+
geom_point(aes( fill = videoname, color = videoname), size = 2, alpha = 0.6)+
geom_smooth(method = 'lm', color = "grey15")+
scale_color_manual(values = safe_colorblind_palette)+
ylab('Automatically Tracked Radius [px], DLC')+
xlab('Manually Labeled Radius [px]')+
scale_x_continuous(limits = c(75, 270),
breaks = c(50, 100, 150, 200, 250))+
scale_y_continuous(limits = c(100, 270),
breaks = c(100, 150, 200, 250))+
#scale_x_continuous(limits = c(120, 270),
#                   breaks = c( 120, 160, 200, 240))+
theme_minimal()+
theme(text = element_text(size = 20),
legend.position = "none")+
annotate("text", y=250, x= 100, label= " r = 0.86", size = 5)
hough <- joined_radii_all %>%
dplyr::filter(examplenr == "exp4") %>%
dplyr::filter(radius_man >= 100) %>%
ggplot(aes(x = radius_man, y = smoothed_hough_radius_kolmogorov))+
geom_point(aes( fill = videoname, color = videoname), size = 2, alpha = 0.6)+
geom_smooth(method = 'lm', color = "grey15")+
geom_smooth(data = June16_02_hough_exp4, method = "lm", color = "#44AA99")+
geom_smooth(data = June16_20_hough_exp4, method = "lm", color = "#882255")+
scale_color_manual(values = safe_colorblind_palette)+
ylab('Automatically Tracked Radius [px], Hough')+
xlab('Manually Labeled Radius [px]')+
scale_x_continuous(limits = c(75, 270),
breaks = c(50, 100, 150, 200, 250))+
scale_y_continuous(limits = c(100, 270),
breaks = c(100, 150, 200, 250))+
#scale_x_continuous(limits = c(120, 270),
#                   breaks = c( 120, 160, 200, 240))+
theme_minimal()+
theme(text = element_text(size = 20),
legend.position="none")+
#guides(fill = FALSE)+
annotate("text", y = 200, x = 100, label= " r = 0.23", size = 5)+
annotate("text", y = 225, x = 100, label= " r = 0.53", size = 5, color = "#44AA99")+
annotate("text", y = 250, x = 100, label= " r = 0.80", size = 5, color = "#882255")
cowplot::plot_grid(dlc, hough, ncol = 2, labels = c("A", "B"), label_size = 16)
hough <- joined_radii_all %>%
dplyr::filter(examplenr == "exp4") %>%
dplyr::filter(radius_man >= 100) %>%
ggplot(aes(x = radius_man, y = smoothed_hough_radius_kolmogorov))+
geom_point(aes( fill = videoname, color = videoname), size = 2, alpha = 0.6)+
geom_smooth(method = 'lm', color = "grey15")+
geom_smooth(data = June16_02_hough_exp4, method = "lm", color = "#44AA99")+
geom_smooth(data = June16_20_hough_exp4, method = "lm", color = "#882255")+
scale_color_manual(values = safe_colorblind_palette)+
ylab('Automatically Tracked Radius [px], Hough')+
xlab('Manually Labeled Radius [px]')+
scale_x_continuous(limits = c(75, 270),
breaks = c(50, 100, 150, 200, 250))+
scale_y_continuous(limits = c(100, 270),
breaks = c(100, 150, 200, 250))+
#scale_x_continuous(limits = c(120, 270),
#                   breaks = c( 120, 160, 200, 240))+
theme_minimal()+
theme(text = element_text(size = 20),
legend.position="none")+
#guides(fill = FALSE)+
annotate("text", y = 200, x = 100, label= " r = 0.23", size = 5)+
annotate("text", y = 225, x = 100, label= " r = 0.80", size = 5, color = "#44AA99")+
annotate("text", y = 250, x = 100, label= " r = 0.53", size = 5, color = "#882255")
cowplot::plot_grid(dlc, hough, ncol = 2, labels = c("A", "B"), label_size = 16)
ggsave(paste0(current_path,"/comparison_dlc_hough_manual_new.jpg"), dpi = 300, width= 10, height = 8)
# per example
correlation_per_setting <- df %>%
group_by(example_nr) %>%
summarise(mean_cor_sm = mean(cor_radius_smoothed_kol), median_cor_sm = median(cor_radius_smoothed_kol),
min_cor_sm = min(cor_radius_smoothed_kol), max_cor_sm = max(cor_radius_smoothed_kol),
mean_cor = mean(cor_radius, na.rm = TRUE ), median_cor = median(cor_radius, na.rm = TRUE),
min_cor = min(cor_radius, na.rm = TRUE), max_cor = max(cor_radius, na.rm = TRUE))
correlation_per_setting
correlation_per_video <- df %>%
dplyr::group_by(videoname) %>%
summarise(mean_cor_sm = mean(cor_radius_smoothed_kol), median_cor_sm = median(cor_radius_smoothed_kol),
min_cor_sm = min(cor_radius_smoothed_kol), max_cor_sm = max(cor_radius_smoothed_kol),
mean_cor = mean(cor_radius, na.rm = TRUE ), median_cor = median(cor_radius, na.rm = TRUE),
min_cor = min(cor_radius, na.rm = TRUE), max_cor = max(cor_radius, na.rm = TRUE))
correlation_per_video
view(correlation_per_video)
# visualization DLC
dlc <- joined_radii_dlc %>%
ggplot(aes(y = radius_man, x = radius))+
geom_point(aes( fill = videoname, color = videoname), size = 2, alpha = 0.6)+
geom_smooth(method = 'lm', color = "grey15")+
scale_color_manual(values = safe_colorblind_palette)+
xlab('DLC+ [px]')+
ylab('Manually Labeled Radius [px]')+
scale_x_continuous(limits = c(75, 270),
breaks = c(50, 100, 150, 200, 250))+
scale_y_continuous(limits = c(100, 270),
breaks = c(100, 150, 200, 250))+
#scale_x_continuous(limits = c(120, 270),
#                   breaks = c( 120, 160, 200, 240))+
theme_minimal()+
theme(text = element_text(size = 20),
legend.position = "none")+
annotate("text", x = 250, y = 100, label= " r = 0.86", size = 5)
hough <- joined_radii_all %>%
dplyr::filter(examplenr == "exp4") %>%
dplyr::filter(radius_man >= 100) %>%
ggplot(aes(y = radius_man, x = smoothed_hough_radius_kolmogorov))+
geom_point(aes( fill = videoname, color = videoname), size = 2, alpha = 0.6)+
geom_smooth(method = 'lm', color = "grey15")+
geom_smooth(data = June16_02_hough_exp4, method = "lm", color = "#44AA99")+
geom_smooth(data = June16_20_hough_exp4, method = "lm", color = "#882255")+
scale_color_manual(values = safe_colorblind_palette)+
xlab('Hough [px]')+
ylab('Manually Labeled Radius [px]')+
scale_x_continuous(limits = c(75, 270),
breaks = c(50, 100, 150, 200, 250))+
scale_y_continuous(limits = c(100, 270),
breaks = c(100, 150, 200, 250))+
#scale_x_continuous(limits = c(120, 270),
#                   breaks = c( 120, 160, 200, 240))+
theme_minimal()+
theme(text = element_text(size = 20),
legend.position="none")+
#guides(fill = FALSE)+
annotate("text", y = 200, x = 100, label= " r = 0.23", size = 5)+
annotate("text", y = 225, x = 100, label= " r = 0.80", size = 5, color = "#44AA99")+
annotate("text", y = 250, x = 100, label= " r = 0.53", size = 5, color = "#882255")
cowplot::plot_grid(dlc, hough, ncol = 2, labels = c("A", "B"), label_size = 16)
# visualization DLC
dlc <- joined_radii_dlc %>%
ggplot(aes(y = radius_man, x = radius))+
geom_point(aes( fill = videoname, color = videoname), size = 2, alpha = 0.6)+
geom_smooth(method = 'lm', color = "grey15")+
scale_color_manual(values = safe_colorblind_palette)+
xlab('DLC+ [px]')+
ylab('Manually Labeled Radius [px]')+
scale_x_continuous(limits = c(75, 270),
breaks = c(50, 100, 150, 200, 250))+
scale_y_continuous(limits = c(100, 270),
breaks = c(100, 150, 200, 250))+
#scale_x_continuous(limits = c(120, 270),
#                   breaks = c( 120, 160, 200, 240))+
theme_minimal()+
theme(text = element_text(size = 20),
legend.position = "none")+
annotate("text", y = 250, x = 100, label= " r = 0.86", size = 5)
hough <- joined_radii_all %>%
dplyr::filter(examplenr == "exp4") %>%
dplyr::filter(radius_man >= 100) %>%
ggplot(aes(y = radius_man, x = smoothed_hough_radius_kolmogorov))+
geom_point(aes( fill = videoname, color = videoname), size = 2, alpha = 0.6)+
geom_smooth(method = 'lm', color = "grey15")+
geom_smooth(data = June16_02_hough_exp4, method = "lm", color = "#44AA99")+
geom_smooth(data = June16_20_hough_exp4, method = "lm", color = "#882255")+
scale_color_manual(values = safe_colorblind_palette)+
xlab('Hough [px]')+
ylab('Manually Labeled Radius [px]')+
scale_x_continuous(limits = c(75, 270),
breaks = c(50, 100, 150, 200, 250))+
scale_y_continuous(limits = c(100, 270),
breaks = c(100, 150, 200, 250))+
#scale_x_continuous(limits = c(120, 270),
#                   breaks = c( 120, 160, 200, 240))+
theme_minimal()+
theme(text = element_text(size = 20),
legend.position="none")+
#guides(fill = FALSE)+
annotate("text", y = 200, x = 100, label= " r = 0.23", size = 5)+
annotate("text", y = 225, x = 100, label= " r = 0.80", size = 5, color = "#44AA99")+
annotate("text", y = 250, x = 100, label= " r = 0.53", size = 5, color = "#882255")
cowplot::plot_grid(dlc, hough, ncol = 2, labels = c("A", "B"), label_size = 16)
hough <- joined_radii_all %>%
dplyr::filter(examplenr == "exp4") %>%
dplyr::filter(radius_man >= 100) %>%
ggplot(aes(y = radius_man, x = smoothed_hough_radius_kolmogorov))+
geom_point(aes( fill = videoname, color = videoname), size = 2, alpha = 0.6)+
geom_smooth(method = 'lm', color = "grey15")+
geom_smooth(data = June16_02_hough_exp4, method = "lm", color = "#44AA99")+
geom_smooth(data = June16_20_hough_exp4, method = "lm", color = "#882255")+
scale_color_manual(values = safe_colorblind_palette)+
xlab('Hough [px]')+
ylab('Manually Labeled Radius [px]')+
scale_x_continuous(limits = c(75, 270),
breaks = c(50, 100, 150, 200, 250))+
scale_y_continuous(limits = c(100, 270),
breaks = c(100, 150, 200, 250))+
#scale_x_continuous(limits = c(120, 270),
#                   breaks = c( 120, 160, 200, 240))+
theme_minimal()+
theme(text = element_text(size = 20),
legend.position="none")+
#guides(fill = FALSE)+
annotate("text", y = 200, x = 100, label= " r = 0.23", size = 5)+
annotate("text", y = 225, x = 100, label= " r = 0.53", size = 5, color = "#44AA99")+
annotate("text", y = 250, x = 100, label= " r = 0.80", size = 5, color = "#882255")
cowplot::plot_grid(dlc, hough, ncol = 2, labels = c("A", "B"), label_size = 16)
hough <- joined_radii_all %>%
dplyr::filter(examplenr == "exp4") %>%
dplyr::filter(radius_man >= 100) %>%
ggplot(aes(y = radius_man, x = smoothed_hough_radius_kolmogorov))+
geom_point(aes( fill = videoname, color = videoname), size = 2, alpha = 0.6)+
geom_smooth(method = 'lm', color = "grey15")+
geom_smooth(data = June16_02_hough_exp4, method = "lm", color = "#44AA99")+
geom_smooth(data = June16_20_hough_exp4, method = "lm", color = "#882255")+
scale_color_manual(values = safe_colorblind_palette)+
xlab('Hough [px]')+
ylab('Manually Labeled Radius [px]')+
scale_x_continuous(limits = c(75, 270),
breaks = c(50, 100, 150, 200, 250))+
scale_y_continuous(limits = c(100, 270),
breaks = c(100, 150, 200, 250))+
#scale_x_continuous(limits = c(120, 270),
#                   breaks = c( 120, 160, 200, 240))+
theme_minimal()+
theme(text = element_text(size = 20),
legend.position="none")+
#guides(fill = FALSE)+
annotate("text", y = 200, x = 100, label= " r = 0.23", size = 5)+
annotate("text", y = 225, x = 100, label= " r = 0.53", size = 5, color = "#44AA99")+
annotate("text", y = 250, x = 100, label= " r = 0.80", size = 5, color = "#882255")
cowplot::plot_grid(dlc, hough, ncol = 2, labels = c("A", "B"), label_size = 16)
ggsave(paste0(current_path,"/comparison_dlc_hough_manual_new.jpg"), dpi = 300, width= 10, height = 8)
p.mat
corr
if (!require(install.load)) {
install.packages("install.load")
}
library(install.load)
install_load("tidyverse","conicfit","ggcorrplot", "scales", "spiro",
"signal", "foreach", "Hmisc", "ggplotify", "cowplot")
